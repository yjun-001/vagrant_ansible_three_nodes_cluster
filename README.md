# Buid a three nodes OpenPBS HPC cluster in a local Windows 10 desktop

Create a three nodes openPBS HPC cluster on local windows desktop by using [**vagrant**](https://www.vagrantup.com/) and [**ansible**](https://www.ansible.com/).
- It can be used for POC or Sandbox test environment.
- it's a pure *100%* code based (IaC). 

## Prerequisite:
- Reference this Repository to setup [local vagrant VM development environment](https://github.com/yjun-001/vagrant_vm_windows10)
- Preload OpenPBS binary ([openpbs_22.05.11.ubuntu_20.04](https://vcdn.altair.com/rl/OpenPBS/openpbs_22.05.11.ubuntu_20.04.zip)), and unzip to ansible/downloads folder

## Cluster Inventory file:
https://github.com/yjun-001/vagrant_ansible_three_nodes_cluster/blob/949435031903a27fcd9130e9abce99e0fa7c1a4c/ansible/inventory/hosts#L1-L14

## Cluster Nodes build/provision process:
- vagrant create three virtual box VMs (one master node, two nodes)
  - using vagrant ubuntu 20.04 image 
- Once VMs generated, ansible playbook kick-in for post-configuration
  - add cluster admin user (pbsadmin)
  - update /etc/hosts by hostname and cluster IPs on each nodes
  - exchange ssh public keys between servers and enable SSH Authentication between each hosts, so each host can ssh other without password
  - update each know_hosts file, so ssh login without anonnying prompt
- Install OpenPBS package
  - Install openpbs-execution package and its dependency packages on each nodes
  - Install openpbs-server package and its dependency packages on head nodes
  - add nodes in working queue, setup permission to submit a job
- [] Todo: 
  - copy test job find_prime.sh (preload in /vagrant/downloads/)
  - submit it to cluster, and get the results
   

## In action: Create/Run/destroy the cluster
- to create and run the cluster
```bash
>vagrant up
Bringing machine 'node1' up with 'virtualbox' provider...
Bringing machine 'node2' up with 'virtualbox' provider...
Bringing machine 'master' up with 'virtualbox' provider...
==> node1: Importing base box 'generic/ubuntu2004'...
==> node1: Matching MAC address for NAT networking...
==> node1: Checking if box 'generic/ubuntu2004' version '4.1.14' is up to date...
==> node1: A newer version of the box 'generic/ubuntu2004' for provider 'virtualbox' is
==> node1: available! You currently have version '4.1.14'. The latest is version
==> node1: '4.1.16'. Run `vagrant box update` to update.
==> node1: Setting the name of the VM: vm_cluster_node1_1665778589334_55022
==> node1: Clearing any previously set network interfaces...
==> node1: Preparing network interfaces based on configuration...
    node1: Adapter 1: nat
    node1: Adapter 2: hostonly
==> node1: Forwarding ports...
    node1: 22 (guest) => 2222 (host) (adapter 1)
==> node1: Running 'pre-boot' VM customizations...
==> node1: Booting VM...
==> node1: Waiting for machine to boot. This may take a few minutes...
    node1: SSH address: 127.0.0.1:2222
    node1: SSH username: vagrant
    node1: SSH auth method: private key
    node1: Warning: Connection reset. Retrying...
    node1: Warning: Connection aborted. Retrying...
    node1: 
    node1: Vagrant insecure key detected. Vagrant will automatically replace
    node1: this with a newly generated keypair for better security.
    node1: 
    node1: Inserting generated public key within guest...
    node1: Removing insecure key from the guest if it's present...
    node1: Key inserted! Disconnecting and reconnecting using new SSH key...
==> node1: Machine booted and ready!
==> node1: Checking for guest additions in VM...
==> node1: Setting hostname...
==> node1: Configuring and enabling network interfaces...
==> node1: Running provisioner: shell...
    node1: Running: inline script
    node1: SSH key provisioning.
==> node2: Importing base box 'generic/ubuntu2004'...
==> node2: Matching MAC address for NAT networking...
==> node2: Checking if box 'generic/ubuntu2004' version '4.1.14' is up to date...
==> node2: Setting the name of the VM: vm_cluster_node2_1665778755439_84638
==> node2: Fixed port collision for 22 => 2222. Now on port 2200.
==> node2: Clearing any previously set network interfaces...
==> node2: Preparing network interfaces based on configuration...
    node2: Adapter 1: nat
    node2: Adapter 2: hostonly
==> node2: Forwarding ports...
    node2: 22 (guest) => 2200 (host) (adapter 1)
==> node2: Running 'pre-boot' VM customizations...
==> node2: Booting VM...
==> node2: Waiting for machine to boot. This may take a few minutes...
    node2: SSH address: 127.0.0.1:2200
    node2: SSH username: vagrant
    node2: SSH auth method: private key
    node2: Warning: Connection reset. Retrying...
    node2: Warning: Connection aborted. Retrying...
    node2: Warning: Connection reset. Retrying...
    node2: Warning: Connection aborted. Retrying...
    node2: 
    node2: Vagrant insecure key detected. Vagrant will automatically replace
    node2: this with a newly generated keypair for better security.
    node2: 
    node2: Inserting generated public key within guest...
    node2: Removing insecure key from the guest if it's present...
    node2: Key inserted! Disconnecting and reconnecting using new SSH key...
==> node2: Machine booted and ready!
==> node2: Checking for guest additions in VM...
==> node2: Setting hostname...
==> node2: Configuring and enabling network interfaces...
==> node2: Running provisioner: shell...
    node2: Running: inline script
    node2: SSH key provisioning.
==> master: Importing base box 'generic/ubuntu2004'...
==> master: Matching MAC address for NAT networking...
==> master: Checking if box 'generic/ubuntu2004' version '4.1.14' is up to date...
==> master: Setting the name of the VM: vm_cluster_master_1665778925745_48568
==> master: Fixed port collision for 22 => 2222. Now on port 2201.
==> master: Clearing any previously set network interfaces...
==> master: Preparing network interfaces based on configuration...
    master: Adapter 1: nat
    master: Adapter 2: hostonly
==> master: Forwarding ports...
    master: 22 (guest) => 2201 (host) (adapter 1)
==> master: Running 'pre-boot' VM customizations...
==> master: Booting VM...
==> master: Waiting for machine to boot. This may take a few minutes...
    master: SSH address: 127.0.0.1:2201
    master: SSH username: vagrant
    master: SSH auth method: private key
    master: Warning: Connection reset. Retrying...
    master: Warning: Connection aborted. Retrying...
    master: Warning: Connection reset. Retrying...
    master: Warning: Connection aborted. Retrying...
    master: Warning: Remote connection disconnect. Retrying...
    master: 
    master: Vagrant insecure key detected. Vagrant will automatically replace
    master: this with a newly generated keypair for better security.
    master: 
    master: Inserting generated public key within guest...
    master: Removing insecure key from the guest if it's present...
    master: Key inserted! Disconnecting and reconnecting using new SSH key...
==> master: Machine booted and ready!
==> master: Checking for guest additions in VM...
==> master: Setting hostname...
==> master: Configuring and enabling network interfaces...
==> master: Mounting shared folders...
    master: /vagrant => C:/Users/projs/vm_cluster/ansible
==> master: Detected mount owner ID within mount options. (uid: 1000 guestpath: /vagrant)
==> master: Detected mount group ID within mount options. (gid: 1000 guestpath: /vagrant)
==> master: Running provisioner: shell...
    master: Running: inline script
    master: SSH key provisioning.
==> master: Running provisioner: shell...
    master: Running: inline script
    master: Get:1 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
    master: Hit:2 http://us.archive.ubuntu.com/ubuntu focal InRelease
    master: Get:3 http://us.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
    master: Get:4 http://us.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
    master: Get:5 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1,785 kB]
    master: Get:6 http://us.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [2,158 kB]
    master: Get:7 http://security.ubuntu.com/ubuntu focal-security/main i386 Packages [508 kB]
    master: Get:8 http://security.ubuntu.com/ubuntu focal-security/main Translation-en [297 kB]
    master: Get:9 http://us.archive.ubuntu.com/ubuntu focal-updates/main i386 Packages [738 kB]
    master: Get:10 http://us.archive.ubuntu.com/ubuntu focal-updates/main Translation-en [381 kB]
    master: Get:11 http://us.archive.ubuntu.com/ubuntu focal-updates/main amd64 c-n-f Metadata [16.0 kB]
    master: Get:12 http://us.archive.ubuntu.com/ubuntu focal-updates/restricted i386 Packages [26.6 kB]
    master: Get:13 http://us.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [1,332 kB]    master: Get:14 http://us.archive.ubuntu.com/ubuntu focal-updates/restricted Translation-en [188 kB]
    master: Get:15 http://us.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 c-n-f Metadata [592 B]
    master: Get:16 http://us.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [966 kB]
    master: Get:17 http://security.ubuntu.com/ubuntu focal-security/main amd64 c-n-f Metadata [11.2 kB]
    master: Get:18 http://us.archive.ubuntu.com/ubuntu focal-updates/universe i386 Packages [696 kB]
    master: Get:19 http://us.archive.ubuntu.com/ubuntu focal-updates/universe Translation-en [221 kB]
    master: Get:20 http://us.archive.ubuntu.com/ubuntu focal-updates/universe amd64 c-n-f Metadata [21.8 
kB]
    master: Get:21 http://us.archive.ubuntu.com/ubuntu focal-backports/universe i386 Packages [13.5 kB]
    master: Get:22 http://us.archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [23.9 kB]
    master: Get:23 http://us.archive.ubuntu.com/ubuntu focal-backports/universe amd64 c-n-f Metadata [860 B]
    master: Get:24 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [1,241 kB]
    master: Get:25 http://security.ubuntu.com/ubuntu focal-security/restricted i386 Packages [25.3 kB]
    master: Get:26 http://security.ubuntu.com/ubuntu focal-security/restricted Translation-en [176 kB]
    master: Get:27 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 c-n-f Metadata [596 
B]
    master: Get:28 http://security.ubuntu.com/ubuntu focal-security/universe i386 Packages [566 kB]
    master: Get:29 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [737 kB]
    master: Get:30 http://security.ubuntu.com/ubuntu focal-security/universe Translation-en [136 kB]
    master: Get:31 http://security.ubuntu.com/ubuntu focal-security/universe amd64 c-n-f Metadata [15.3 kB]
    master: Fetched 12.6 MB in 10s (1,221 kB/s)
    master: Reading package lists...
    master: Reading package lists...
    master: Building dependency tree...
    master: Reading state information...
    master: The following additional packages will be installed:
    master:   ieee-data python3-argcomplete python3-crypto python3-distutils
    master:   python3-dnspython python3-jinja2 python3-jmespath python3-kerberos
    master:   python3-lib2to3 python3-libcloud python3-lockfile python3-markupsafe
    master:   python3-netaddr python3-ntlm-auth python3-requests-kerberos
    master:   python3-requests-ntlm python3-selinux python3-winrm python3-xmltodict
    master: Suggested packages:
    master:   cowsay sshpass python-jinja2-doc python-lockfile-doc ipython3
    master:   python-netaddr-docs
    master: The following NEW packages will be installed:
    master:   ansible ieee-data python3-argcomplete python3-crypto python3-distutils
    master:   python3-dnspython python3-jinja2 python3-jmespath python3-kerberos
    master:   python3-lib2to3 python3-libcloud python3-lockfile python3-markupsafe
    master:   python3-netaddr python3-ntlm-auth python3-requests-kerberos
    master:   python3-requests-ntlm python3-selinux python3-winrm python3-xmltodict
    master: 0 upgraded, 20 newly installed, 0 to remove and 23 not upgraded.
    master: Need to get 9,971 kB of archives.
    master: After this operation, 92.8 MB of additional disk space will be used.
    master: Get:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 python3-markupsafe amd64 1.1.0-1build2 [13.9 kB]
    master: Get:2 http://us.archive.ubuntu.com/ubuntu focal/main amd64 python3-jinja2 all 2.10.1-2 [95.5 
kB]
    master: Get:3 http://us.archive.ubuntu.com/ubuntu focal/main amd64 python3-crypto amd64 2.6.1-13ubuntu2 [237 kB]
    master: Get:4 http://us.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-lib2to3 all 3.8.10-0ubuntu1~20.04 [76.3 kB]
    master: Get:5 http://us.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-distutils all 3.8.10-0ubuntu1~20.04 [141 kB]
    master: Get:6 http://us.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-dnspython all 1.16.0-1ubuntu1 [89.2 kB]
    master: Get:7 http://us.archive.ubuntu.com/ubuntu focal/main amd64 ieee-data all 20180805.1 [1,589 kB]
    master: Get:8 http://us.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-netaddr all 0.7.19-3ubuntu1 [236 kB]
    master: Get:9 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 ansible all 2.9.6+dfsg-1 [5,794 kB]
    master: Get:10 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 python3-argcomplete all 1.8.1-1.3ubuntu1 [27.2 kB]
    master: Get:11 http://us.archive.ubuntu.com/ubuntu focal-updates/main amd64 python3-jmespath all 0.9.4-2ubuntu1 [21.5 kB]
    master: Get:12 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 python3-kerberos amd64 1.1.14-3.1build1 [22.6 kB]
    master: Get:13 http://us.archive.ubuntu.com/ubuntu focal/main amd64 python3-lockfile all 1:0.12.2-2ubuntu2 [14.6 kB]
    master: Get:14 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 python3-libcloud all 2.8.0-1 
[1,403 kB]
    master: Get:15 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 python3-ntlm-auth all 1.1.0-1 [19.6 kB]
    master: Get:16 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 python3-requests-kerberos all 0.12.0-2 [11.9 kB]
    master: Get:17 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 python3-requests-ntlm all 1.1.0-1 [6,004 B]
    master: Get:18 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 python3-selinux amd64 3.0-1build2 [139 kB]
    master: Get:19 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 python3-xmltodict all 0.12.0-1 [12.6 kB]
    master: Get:20 http://us.archive.ubuntu.com/ubuntu focal/universe amd64 python3-winrm all 0.3.0-2 [21.7 kB]
    master: dpkg-preconfigure: unable to re-open stdin: No such file or directory
    master: Fetched 9,971 kB in 2s (6,316 kB/s)
    master: Selecting previously unselected package python3-markupsafe.
(Reading database ... 111658 files and directories currently installed.)
    master: Preparing to unpack .../00-python3-markupsafe_1.1.0-1build2_amd64.deb ...
    master: Unpacking python3-markupsafe (1.1.0-1build2) ...
    master: Selecting previously unselected package python3-jinja2.
    master: Preparing to unpack .../01-python3-jinja2_2.10.1-2_all.deb ...
    master: Unpacking python3-jinja2 (2.10.1-2) ...
    master: Selecting previously unselected package python3-crypto.
    master: Preparing to unpack .../02-python3-crypto_2.6.1-13ubuntu2_amd64.deb ...
    master: Unpacking python3-crypto (2.6.1-13ubuntu2) ...
    master: Selecting previously unselected package python3-lib2to3.
    master: Preparing to unpack .../03-python3-lib2to3_3.8.10-0ubuntu1~20.04_all.deb ...
    master: Unpacking python3-lib2to3 (3.8.10-0ubuntu1~20.04) ...
    master: Selecting previously unselected package python3-distutils.
    master: Preparing to unpack .../04-python3-distutils_3.8.10-0ubuntu1~20.04_all.deb ...
    master: Unpacking python3-distutils (3.8.10-0ubuntu1~20.04) ...
    master: Selecting previously unselected package python3-dnspython.
    master: Preparing to unpack .../05-python3-dnspython_1.16.0-1ubuntu1_all.deb ...
    master: Unpacking python3-dnspython (1.16.0-1ubuntu1) ...
    master: Selecting previously unselected package ieee-data.
    master: Preparing to unpack .../06-ieee-data_20180805.1_all.deb ...
    master: Unpacking ieee-data (20180805.1) ...
    master: Selecting previously unselected package python3-netaddr.
    master: Preparing to unpack .../07-python3-netaddr_0.7.19-3ubuntu1_all.deb ...
    master: Unpacking python3-netaddr (0.7.19-3ubuntu1) ...
    master: Selecting previously unselected package ansible.
    master: Preparing to unpack .../08-ansible_2.9.6+dfsg-1_all.deb ...
    master: Unpacking ansible (2.9.6+dfsg-1) ...
    master: Selecting previously unselected package python3-argcomplete.
    master: Preparing to unpack .../09-python3-argcomplete_1.8.1-1.3ubuntu1_all.deb ...
    master: Unpacking python3-argcomplete (1.8.1-1.3ubuntu1) ...
    master: Selecting previously unselected package python3-jmespath.
    master: Preparing to unpack .../10-python3-jmespath_0.9.4-2ubuntu1_all.deb ...
    master: Unpacking python3-jmespath (0.9.4-2ubuntu1) ...
    master: Selecting previously unselected package python3-kerberos.
    master: Preparing to unpack .../11-python3-kerberos_1.1.14-3.1build1_amd64.deb ...
    master: Unpacking python3-kerberos (1.1.14-3.1build1) ...
    master: Selecting previously unselected package python3-lockfile.
    master: Preparing to unpack .../12-python3-lockfile_1%3a0.12.2-2ubuntu2_all.deb ...
    master: Unpacking python3-lockfile (1:0.12.2-2ubuntu2) ...
    master: Selecting previously unselected package python3-libcloud.
    master: Preparing to unpack .../13-python3-libcloud_2.8.0-1_all.deb ...
    master: Unpacking python3-libcloud (2.8.0-1) ...
    master: Selecting previously unselected package python3-ntlm-auth.
    master: Preparing to unpack .../14-python3-ntlm-auth_1.1.0-1_all.deb ...
    master: Unpacking python3-ntlm-auth (1.1.0-1) ...
    master: Selecting previously unselected package python3-requests-kerberos.
    master: Preparing to unpack .../15-python3-requests-kerberos_0.12.0-2_all.deb ...
    master: Unpacking python3-requests-kerberos (0.12.0-2) ...
    master: Selecting previously unselected package python3-requests-ntlm.
    master: Preparing to unpack .../16-python3-requests-ntlm_1.1.0-1_all.deb ...
    master: Unpacking python3-requests-ntlm (1.1.0-1) ...
    master: Selecting previously unselected package python3-selinux.
    master: Preparing to unpack .../17-python3-selinux_3.0-1build2_amd64.deb ...
    master: Unpacking python3-selinux (3.0-1build2) ...
    master: Selecting previously unselected package python3-xmltodict.
    master: Preparing to unpack .../18-python3-xmltodict_0.12.0-1_all.deb ...
    master: Unpacking python3-xmltodict (0.12.0-1) ...
    master: Selecting previously unselected package python3-winrm.
    master: Preparing to unpack .../19-python3-winrm_0.3.0-2_all.deb ...
    master: Unpacking python3-winrm (0.3.0-2) ...
    master: Setting up python3-lockfile (1:0.12.2-2ubuntu2) ...
    master: Setting up python3-ntlm-auth (1.1.0-1) ...
    master: Setting up python3-kerberos (1.1.14-3.1build1) ...
    master: Setting up python3-markupsafe (1.1.0-1build2) ...
    master: Setting up python3-xmltodict (0.12.0-1) ...
    master: Setting up python3-jinja2 (2.10.1-2) ...
    master: Setting up python3-jmespath (0.9.4-2ubuntu1) ...
    master: Setting up python3-requests-kerberos (0.12.0-2) ...
    master: Setting up ieee-data (20180805.1) ...
    master: Setting up python3-dnspython (1.16.0-1ubuntu1) ...
    master: Setting up python3-selinux (3.0-1build2) ...
    master: Setting up python3-crypto (2.6.1-13ubuntu2) ...
    master: Setting up python3-argcomplete (1.8.1-1.3ubuntu1) ...
    master: Setting up python3-lib2to3 (3.8.10-0ubuntu1~20.04) ...
    master: Setting up python3-distutils (3.8.10-0ubuntu1~20.04) ...
    master: Setting up python3-requests-ntlm (1.1.0-1) ...
    master: Setting up python3-libcloud (2.8.0-1) ...
    master: Setting up python3-netaddr (0.7.19-3ubuntu1) ...
    master: Setting up python3-winrm (0.3.0-2) ...
    master: Setting up ansible (2.9.6+dfsg-1) ...
    master: Processing triggers for man-db (2.9.1-1) ...
==> master: Running provisioner: ansible_local...
    master: Running ansible-playbook...
cd /vagrant && PYTHONUNBUFFERED=1 ANSIBLE_NOCOLOR=true ansible-playbook --limit="all" --inventory-file=/vagrant/inventory --become -v provision.yaml
Using /vagrant/ansible.cfg as config file
[DEPRECATION WARNING]: 'include' for playbook includes. You should use 
'import_playbook' instead. This feature will be removed in version 2.12.
Deprecation warnings can be disabled by setting deprecation_warnings=False in
ansible.cfg.

PLAY [provision a pbs node] ****************************************************

TASK [create HPC pbsadmin user] ************************************************
changed: [master] => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python3"}, "changed": 
true, "comment": "", "create_home": true, "group": 1001, "home": "/home/pbsadmin", "name": "pbsadmin", "password": "NOT_LOGGING_PASSWORD", "shell": "/bin/bash", "state": "present", "system": false, "uid": 1001}changed: [node2] => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python3"}, "changed": true, "comment": "", "create_home": true, "group": 1001, "home": "/home/pbsadmin", "name": "pbsadmin", "password": "NOT_LOGGING_PASSWORD", "shell": "/bin/bash", "state": "present", "system": false, "uid": 1001} 
changed: [node1] => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python3"}, "changed": true, "comment": "", "create_home": true, "group": 1001, "home": "/home/pbsadmin", "name": "pbsadmin", "password": "NOT_LOGGING_PASSWORD", "shell": "/bin/bash", "state": "present", "system": false, "uid": 1001} 

TASK [modify sshd_config to allow password login] ******************************
changed: [master] => {"backup": "", "changed": true, "msg": "line added"}
changed: [node2] => {"backup": "", "changed": true, "msg": "line added"}
changed: [node1] => {"backup": "", "changed": true, "msg": "line added"}

TASK [sudo] ********************************************************************
changed: [master] => {"changed": true, "checksum": "79e47a848d6aebc705b1f634522c49412d4214e7", "dest": "/etc/sudoers.d/pbsadmin", "gid": 0, "group": "root", "md5sum": "9b828e3fe9d3691adb2ed8c5ab4bb07f", "mode": "0644", "owner": "root", "size": 33, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1665779288.080272-99589763460708/source", "state": "file", "uid": 0}
changed: [node1] => {"changed": true, "checksum": "79e47a848d6aebc705b1f634522c49412d4214e7", "dest": "/etc/sudoers.d/pbsadmin", "gid": 0, "group": "root", "md5sum": "9b828e3fe9d3691adb2ed8c5ab4bb07f", "mode": 
"0644", "owner": "root", "size": 33, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1665779287.9339385-113183412797626/source", "state": "file", "uid": 0}
changed: [node2] => {"changed": true, "checksum": "79e47a848d6aebc705b1f634522c49412d4214e7", "dest": "/etc/sudoers.d/pbsadmin", "gid": 0, "group": "root", "md5sum": "9b828e3fe9d3691adb2ed8c5ab4bb07f", "mode": 
"0644", "owner": "root", "size": 33, "src": "/home/vagrant/.ansible/tmp/ansible-tmp-1665779287.9701316-263085820444861/source", "state": "file", "uid": 0}

TASK [Install acl package] *****************************************************
changed: [master] => {"cache_update_time": 1665779156, "cache_updated": false, "changed": true, "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state 
information...\nThe following NEW packages will be installed:\n  acl\n0 upgraded, 1 newly installed, 0 to remove and 23 not upgraded.\nNeed to get 37.8 kB of archives.\nAfter this operation, 197 kB of additional disk space will be used.\nGet:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 acl amd64 2.2.53-6 [37.8 kB]\nFetched 37.8 kB in 0s (90.4 kB/s)\nSelecting previously unselected package acl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 121425 files and directories currently installed.)\r\nPreparing to unpack .../acl_2.2.53-6_amd64.deb ...\r\nUnpacking acl (2.2.53-6) ...\r\nSetting up acl (2.2.53-6) ...\r\nProcessing triggers for man-db (2.9.1-1) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following NEW packages will be installed:", "  acl", "0 upgraded, 1 newly installed, 0 to remove and 23 not upgraded.", "Need to get 37.8 kB of archives.", "After this operation, 197 kB of additional disk space will be used.", "Get:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 acl amd64 2.2.53-6 [37.8 kB]", "Fetched 37.8 kB in 0s (90.4 
kB/s)", "Selecting previously unselected package acl.", "(Reading database ... ", "(Reading database ... 
5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 121425 files and directories currently installed.)", "Preparing to unpack .../acl_2.2.53-6_amd64.deb ...", "Unpacking acl (2.2.53-6) ...", "Setting up acl 
(2.2.53-6) ...", "Processing triggers for man-db (2.9.1-1) ..."]}
changed: [node1] => {"cache_update_time": 1663975596, "cache_updated": false, "changed": true, "stderr": 
"", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  acl\n0 upgraded, 1 newly installed, 0 to 
remove and 0 not upgraded.\nNeed to get 37.8 kB of archives.\nAfter this operation, 197 kB of additional 
disk space will be used.\nGet:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 acl amd64 2.2.53-6 [37.8 kB]\nFetched 37.8 kB in 1s (30.0 kB/s)\nSelecting previously unselected package acl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 111658 files and directories currently installed.)\r\nPreparing to unpack .../acl_2.2.53-6_amd64.deb ...\r\nUnpacking acl (2.2.53-6) ...\r\nSetting up acl (2.2.53-6) ...\r\nProcessing triggers for man-db (2.9.1-1) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following NEW packages will be installed:", "  acl", "0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.", "Need to get 37.8 kB of archives.", "After this operation, 197 kB of additional disk space will be used.", "Get:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 acl amd64 2.2.53-6 [37.8 kB]", "Fetched 37.8 kB in 1s (30.0 kB/s)", "Selecting previously unselected package acl.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 
60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 111658 files and directories currently installed.)", 
"Preparing to unpack .../acl_2.2.53-6_amd64.deb ...", "Unpacking acl (2.2.53-6) ...", "Setting up acl (2.2.53-6) ...", "Processing triggers for man-db (2.9.1-1) ..."]}
changed: [node2] => {"cache_update_time": 1663975596, "cache_updated": false, "changed": true, "stderr": 
"", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  acl\n0 upgraded, 1 newly installed, 0 to 
remove and 0 not upgraded.\nNeed to get 37.8 kB of archives.\nAfter this operation, 197 kB of additional 
disk space will be used.\nGet:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 acl amd64 2.2.53-6 [37.8 kB]\nFetched 37.8 kB in 1s (31.1 kB/s)\nSelecting previously unselected package acl.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 111658 files and directories currently installed.)\r\nPreparing to unpack .../acl_2.2.53-6_amd64.deb ...\r\nUnpacking acl (2.2.53-6) ...\r\nSetting up acl (2.2.53-6) ...\r\nProcessing triggers for man-db (2.9.1-1) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following NEW packages will be installed:", "  acl", "0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.", "Need to get 37.8 kB of archives.", "After this operation, 197 kB of additional disk space will be used.", "Get:1 http://us.archive.ubuntu.com/ubuntu focal/main amd64 acl amd64 2.2.53-6 [37.8 kB]", "Fetched 37.8 kB in 1s (31.1 kB/s)", "Selecting previously unselected package acl.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 
60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 111658 files and directories currently installed.)", 
"Preparing to unpack .../acl_2.2.53-6_amd64.deb ...", "Unpacking acl (2.2.53-6) ...", "Setting up acl (2.2.53-6) ...", "Processing triggers for man-db (2.9.1-1) ..."]}

RUNNING HANDLER [restart_sshd] *************************************************
changed: [master] => {"changed": true, "name": "sshd", "state": "started", "status": {"ActiveEnterTimestamp": "Fri 2022-10-14 20:25:16 UTC", "ActiveEnterTimestampMonotonic": "147174799", "ActiveExitTimestamp": 
"Fri 2022-10-14 20:25:15 UTC", "ActiveExitTimestampMonotonic": "147043153", "ActiveState": "active", "After": "system.slice pollinate.service auditd.service basic.target sysinit.target -.mount systemd-journald.socket network.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Fri 2022-10-14 20:25:15 UTC", "AssertTimestampMonotonic": "147048817", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanClean": "runtime", "CanIsolate": "no", "CanReload": "yes", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Fri 2022-10-14 20:25:15 UTC", "ConditionTimestampMonotonic": "147048792", "ConfigurationDirectoryMode": "0755", "Conflicts": 
"shutdown.target", "ControlGroup": "/system.slice/ssh.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "OpenBSD Secure Shell server", "DevicePolicy": "auto", "Documentation": "man:sshd(8) man:sshd_config(5)", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/default/ssh (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "1139", "ExecMainStartTimestamp": "Fri 2022-10-14 20:25:15 UTC", "ExecMainStartTimestampMonotonic": "147097874", "ExecMainStatus": "0", "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStart": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -D $SSHD_OPTS ; ignore_errors=no ; 
start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -D $SSHD_OPTS ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -t ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -t ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/ssh.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "ssh.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Fri 2022-10-14 20:25:15 UTC", "InactiveEnterTimestampMonotonic": "147045968", "InactiveExitTimestamp": "Fri 2022-10-14 20:25:15 UTC", "InactiveExitTimestampMonotonic": "147053384", "InvocationID": "3568175aee5049d4b275708220bd832b", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": 
"65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7579", "LimitNPROCSoft": "7579", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7579", "LimitSIGPENDINGSoft": "7579", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "1139", "MemoryAccounting": "yes", "MemoryCurrent": "3895296", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "ssh.service sshd.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target -.mount", "RequiresMountsFor": "/run/sshd", "Restart": "on-failure", "RestartKillSignal": "15", "RestartPreventExitStatus": "255", "RestartUSec": "100ms", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectory": "sshd", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", 
"StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not 
set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Fri 2022-10-14 20:25:16 UTC", "StateChangeTimestampMonotonic": "147174799", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": 
"no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "1", "TasksMax": "2273", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}        
changed: [node2] => {"changed": true, "name": "sshd", "state": "started", "status": {"ActiveEnterTimestamp": "Fri 2022-10-14 20:20:36 UTC", "ActiveEnterTimestampMonotonic": "41183460", "ActiveExitTimestamp": "Fri 2022-10-14 20:20:36 UTC", "ActiveExitTimestampMonotonic": "41111671", "ActiveState": "active", "After": "sysinit.target system.slice pollinate.service network.target basic.target systemd-journald.socket auditd.service -.mount", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Fri 2022-10-14 20:20:36 UTC", "AssertTimestampMonotonic": "41114209", "Before": "shutdown.target multi-user.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanClean": "runtime", "CanIsolate": "no", "CanReload": "yes", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Fri 2022-10-14 20:20:36 
UTC", "ConditionTimestampMonotonic": "41113993", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/ssh.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "OpenBSD Secure Shell server", "DevicePolicy": "auto", "Documentation": "man:sshd(8) man:sshd_config(5)", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/default/ssh (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "1126", "ExecMainStartTimestamp": "Fri 2022-10-14 20:20:36 UTC", "ExecMainStartTimestampMonotonic": "41150506", "ExecMainStatus": "0", "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 
}", "ExecStart": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -D $SSHD_OPTS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -D $SSHD_OPTS ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -t ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -t ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/ssh.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "ssh.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Fri 2022-10-14 20:20:36 UTC", "InactiveEnterTimestampMonotonic": "41112753", "InactiveExitTimestamp": "Fri 2022-10-14 20:20:36 UTC", 
"InactiveExitTimestampMonotonic": "41118419", "InvocationID": "f25df41736ea4b4a8532134e86af23f2", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7579", "LimitNPROCSoft": "7579", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7579", "LimitSIGPENDINGSoft": "7579", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "1126", "MemoryAccounting": "yes", "MemoryCurrent": "5406720", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "sshd.service ssh.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "system.slice sysinit.target -.mount", "RequiresMountsFor": "/run/sshd", "Restart": "on-failure", "RestartKillSignal": "15", "RestartPreventExitStatus": "255", "RestartUSec": "100ms", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectory": "sshd", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": 
"infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Fri 2022-10-14 20:20:36 UTC", "StateChangeTimestampMonotonic": "41183460", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "1", "TasksMax": "2273", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}
changed: [node1] => {"changed": true, "name": "sshd", "state": "started", "status": {"ActiveEnterTimestamp": "Fri 2022-10-14 20:17:43 UTC", "ActiveEnterTimestampMonotonic": "33382980", "ActiveExitTimestamp": "Fri 2022-10-14 20:17:43 UTC", "ActiveExitTimestampMonotonic": "33306487", "ActiveState": "active", "After": "network.target system.slice basic.target -.mount auditd.service systemd-journald.socket pollinate.service sysinit.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Fri 2022-10-14 20:17:43 UTC", "AssertTimestampMonotonic": "33309616", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "no", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "[not set]", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanClean": "runtime", "CanIsolate": "no", "CanReload": "yes", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Fri 2022-10-14 20:17:43 
UTC", "ConditionTimestampMonotonic": "33309602", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/ssh.service", "ControlPID": "0", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "no", "Description": "OpenBSD Secure Shell server", "DevicePolicy": "auto", "Documentation": "man:sshd(8) man:sshd_config(5)", "DynamicUser": "no", "EffectiveCPUs": "", "EffectiveMemoryNodes": "", "EnvironmentFiles": "/etc/default/ssh (ignore_errors=yes)", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "1121", "ExecMainStartTimestamp": "Fri 2022-10-14 20:17:43 UTC", "ExecMainStartTimestampMonotonic": "33357448", "ExecMainStatus": "0", "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 
}", "ExecStart": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -D $SSHD_OPTS ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -D $SSHD_OPTS ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPre": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -t ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStartPreEx": "{ path=/usr/sbin/sshd ; argv[]=/usr/sbin/sshd -t ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/ssh.service", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "ssh.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestamp": "Fri 2022-10-14 20:17:43 UTC", "InactiveEnterTimestampMonotonic": "33307458", "InactiveExitTimestamp": "Fri 2022-10-14 20:17:43 UTC", 
"InactiveExitTimestampMonotonic": "33312308", "InvocationID": "30837df86a1b4d6d8e8d8585c5c2e1b3", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "0", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "65536", "LimitMEMLOCKSoft": "65536", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "524288", "LimitNOFILESoft": "1024", "LimitNPROC": "7579", "LimitNPROCSoft": "7579", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "7579", "LimitSIGPENDINGSoft": "7579", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "1121", "MemoryAccounting": "yes", "MemoryCurrent": "5316608", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "sshd.service ssh.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "stop", "OOMScoreAdjust": "0", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "-.mount 
system.slice sysinit.target", "RequiresMountsFor": "/run/sshd", "Restart": "on-failure", "RestartKillSignal": "15", "RestartPreventExitStatus": "255", "RestartUSec": "100ms", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RuntimeDirectory": "sshd", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": 
"infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "5", "StartLimitIntervalUSec": "10s", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Fri 2022-10-14 20:17:43 UTC", "StateChangeTimestampMonotonic": "33382980", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "0", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "1", "TasksMax": "2273", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartUSec": "1min 30s", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}

PLAY [host file update - Local DNS setup across all the servers] ***************

TASK [Gathering Facts] *********************************************************
ok: [master]
ok: [node2]
ok: [node1]

TASK [Update the /etc/hosts file with node name] *******************************
changed: [node1] => (item=master) => {"ansible_loop_var": "item", "backup": "/etc/hosts.2708.2022-10-14@20:29:15~", "changed": true, "item": "master", "msg": "line added"}
changed: [master] => (item=master) => {"ansible_loop_var": "item", "backup": "/etc/hosts.4349.2022-10-14@20:29:14~", "changed": true, "item": "master", "msg": "line added"}
changed: [node2] => (item=master) => {"ansible_loop_var": "item", "backup": "/etc/hosts.2676.2022-10-14@20:29:15~", "changed": true, "item": "master", "msg": "line added"}
changed: [master] => (item=node1) => {"ansible_loop_var": "item", "backup": "/etc/hosts.4390.2022-10-14@20:29:16~", "changed": true, "item": "node1", "msg": "line added"}
changed: [node1] => (item=node1) => {"ansible_loop_var": "item", "backup": "/etc/hosts.2732.2022-10-14@20:29:17~", "changed": true, "item": "node1", "msg": "line added"}
changed: [node2] => (item=node1) => {"ansible_loop_var": "item", "backup": "/etc/hosts.2700.2022-10-14@20:29:16~", "changed": true, "item": "node1", "msg": "line added"}
changed: [master] => (item=node2) => {"ansible_loop_var": "item", "backup": "/etc/hosts.4426.2022-10-14@20:29:17~", "changed": true, "item": "node2", "msg": "line added"}
changed: [node1] => (item=node2) => {"ansible_loop_var": "item", "backup": "/etc/hosts.2755.2022-10-14@20:29:18~", "changed": true, "item": "node2", "msg": "line added"}
changed: [node2] => (item=node2) => {"ansible_loop_var": "item", "backup": "/etc/hosts.2723.2022-10-14@20:29:17~", "changed": true, "item": "node2", "msg": "line added"}

PLAY [Exchange Keys between servers] *******************************************

TASK [Gathering Facts] *********************************************************
ok: [master]
ok: [node1]
ok: [node2]

TASK [SSH KeyGen command] ******************************************************
changed: [master] => {"changed": true, "cmd": "ssh-keygen -q -b 2048 -t rsa -N \"\" -C \"creating SSH\" -f ~/.ssh/id_rsa", "delta": "0:00:00.324645", "end": "2022-10-14 20:29:24.180935", "rc": 0, "start": "2022-10-14 20:29:23.856290", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node2] => {"changed": true, "cmd": "ssh-keygen -q -b 2048 -t rsa -N \"\" -C \"creating SSH\" -f ~/.ssh/id_rsa", "delta": "0:00:00.276098", "end": "2022-10-14 20:29:24.305951", "rc": 0, "start": "2022-10-14 20:29:24.029853", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
changed: [node1] => {"changed": true, "cmd": "ssh-keygen -q -b 2048 -t rsa -N \"\" -C \"creating SSH\" -f ~/.ssh/id_rsa", "delta": "0:00:00.399385", "end": "2022-10-14 20:29:25.377921", "rc": 0, "start": "2022-10-14 20:29:24.978536", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}

TASK [Fetch the keyfile from one server to another] ****************************
changed: [master] => {"changed": true, "checksum": "f4fa77f2c2a87874e5ec6830c995b2186d9ffd91", "dest": "/tmp/buffer/master-id_rsa.pub", "md5sum": "18f6ea316f41dc0551c5d1ae2793bda7", "remote_checksum": "f4fa77f2c2a87874e5ec6830c995b2186d9ffd91", "remote_md5sum": null}
changed: [node2] => {"changed": true, "checksum": "56ad2357ce1a805a5303ff790ff99e45b04b3e3c", "dest": "/tmp/buffer/node2-id_rsa.pub", "md5sum": "dd5475d70f132f6031763cdd84ee5749", "remote_checksum": "56ad2357ce1a805a5303ff790ff99e45b04b3e3c", "remote_md5sum": null}
changed: [node1] => {"changed": true, "checksum": "5c8af29383cfa971cadf145b5373100881f44899", "dest": "/tmp/buffer/node1-id_rsa.pub", "md5sum": "8a3f76d6d861c07421801ff66aaaab9c", "remote_checksum": "5c8af29383cfa971cadf145b5373100881f44899", "remote_md5sum": null}

TASK [Copy the key add to authorized_keys using Ansible module] ****************
skipping: [master] => (item={'dest': 'master'})  => {"ansible_loop_var": "item", "changed": false, "item": {"dest": "master"}, "skip_reason": "Conditional result was False"}
changed: [master] => (item={'dest': 'node1'}) => {"ansible_loop_var": "item", "changed": true, "comment": null, "exclusive": false, "follow": false, "item": {"dest": "node1"}, "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC0ychLmzl6PJ98tp3TAN0Wcag7ykgQM14xAXwiJrkdytYkISQuq3eD1d61LoJGamMcTSu9jsuqdKaeYtQLDQLVZZ/yae8g/WoVFod1R5dnSVOyEvZtzXGgDamdkW5CXnf37zHmoUuue98G3U/ndJBbCToORLIcDIZdgtADJpl8XbFUAGprIH9XOKpAdfhvOn4iPx4K1jI3Q7tNFAWjyhQNIoo7iErObOhOP3DkLF8480Q3dEj8JyWt7mKCwRlTWnc4lF87YqCK4kLRIgcSaQNdAmwgBTvgHvZwyYKcSTGmF1RomNLTc6tBmEfxJnU8I6bvacqLE74qqQcs/Jp+BPlj creating SSH", "key_options": null, "keyfile": "/home/pbsadmin/.ssh/authorized_keys", "manage_dir": true, "path": null, "state": "present", "user": "pbsadmin", "validate_certs": true}
changed: [node2] => (item={'dest': 'master'}) => {"ansible_loop_var": "item", "changed": true, "comment": null, "exclusive": false, "follow": false, "item": {"dest": "master"}, "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD6hxvGBUFhcTierq2N2mt3DcsqtfJnSKoFZhaP9BnFp2K9uzIf9Vjgm0RzKNOf4qDA0XBEgxVJPMUQWWcci3bXhyoRBq2+GP2L1GcTSYcJErmJM0JXai3eCOst1LStReiG/Lq2vBegmwFnNM1jaAs2H8hl9nlc8LRknDwNW3yNVJi9zvTCFyCEbFLEdHqM7MpKNb79mWrDo9n7t0IQRtgdrE5RSfXa3g0DpIm0W2GXap5fma4f/G91EfyB2n7V0fxmcj4l4BrmvtMvyA6a7O2WMhwE2sCFBHEcfvd/E4zAhc509p/8rnptAE3LIAXguoAHVbLkQJQpDoPukzyN3vdZ creating SSH", "key_options": null, "keyfile": "/home/pbsadmin/.ssh/authorized_keys", "manage_dir": true, "path": null, "state": "present", "user": "pbsadmin", "validate_certs": true}
changed: [node1] => (item={'dest': 'master'}) => {"ansible_loop_var": "item", "changed": true, "comment": null, "exclusive": false, "follow": false, "item": {"dest": "master"}, "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD6hxvGBUFhcTierq2N2mt3DcsqtfJnSKoFZhaP9BnFp2K9uzIf9Vjgm0RzKNOf4qDA0XBEgxVJPMUQWWcci3bXhyoRBq2+GP2L1GcTSYcJErmJM0JXai3eCOst1LStReiG/Lq2vBegmwFnNM1jaAs2H8hl9nlc8LRknDwNW3yNVJi9zvTCFyCEbFLEdHqM7MpKNb79mWrDo9n7t0IQRtgdrE5RSfXa3g0DpIm0W2GXap5fma4f/G91EfyB2n7V0fxmcj4l4BrmvtMvyA6a7O2WMhwE2sCFBHEcfvd/E4zAhc509p/8rnptAE3LIAXguoAHVbLkQJQpDoPukzyN3vdZ creating SSH", "key_options": null, "keyfile": "/home/pbsadmin/.ssh/authorized_keys", "manage_dir": true, "path": null, "state": "present", "user": "pbsadmin", "validate_certs": true}
skipping: [node1] => (item={'dest': 'node1'})  => {"ansible_loop_var": "item", "changed": false, "item": 
{"dest": "node1"}, "skip_reason": "Conditional result was False"}
changed: [master] => (item={'dest': 'node2'}) => {"ansible_loop_var": "item", "changed": true, "comment": null, "exclusive": false, "follow": false, "item": {"dest": "node2"}, "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDR48BrwV5nKwkvgduwK6BE5+kipcDYmWaN/A5NuyZDINMxydGZb7oos1qQwRCRwtSaUH+Rna2eA21+5fdQ3NWgRTo3mut32bb027mdHKsIehjFF9Ig8sVjz/ffB4kVsyXoRi9SAHFSkuhfEOgB6xas4RJScwFEcsNsEnvw1mh5Veiee2FSKikdl4nIMfkPtf2iAA+CqL6kM7AmOoQ0x4ldq4q1nYXn2CeEpGpFKzoxeloVKTqoUcCesxcpmFAPH81B7E/ZIscvEKCz27iP1iUl16FHQ6/eZHl+SwfeeO6d82u9LOP/rwHlOMTUc3L8zDn64I4BJ7uWt1i/zT8IQ79H creating SSH", "key_options": null, "keyfile": "/home/pbsadmin/.ssh/authorized_keys", "manage_dir": true, "path": null, "state": "present", "user": "pbsadmin", "validate_certs": true}
changed: [node1] => (item={'dest': 'node2'}) => {"ansible_loop_var": "item", "changed": true, "comment": 
null, "exclusive": false, "follow": false, "item": {"dest": "node2"}, "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDR48BrwV5nKwkvgduwK6BE5+kipcDYmWaN/A5NuyZDINMxydGZb7oos1qQwRCRwtSaUH+Rna2eA21+5fdQ3NWgRTo3mut32bb027mdHKsIehjFF9Ig8sVjz/ffB4kVsyXoRi9SAHFSkuhfEOgB6xas4RJScwFEcsNsEnvw1mh5Veiee2FSKikdl4nIMfkPtf2iAA+CqL6kM7AmOoQ0x4ldq4q1nYXn2CeEpGpFKzoxeloVKTqoUcCesxcpmFAPH81B7E/ZIscvEKCz27iP1iUl16FHQ6/eZHl+SwfeeO6d82u9LOP/rwHlOMTUc3L8zDn64I4BJ7uWt1i/zT8IQ79H creating SSH", "key_options": null, "keyfile": "/home/pbsadmin/.ssh/authorized_keys", "manage_dir": true, "path": null, "state": "present", "user": "pbsadmin", "validate_certs": true}
changed: [node2] => (item={'dest': 'node1'}) => {"ansible_loop_var": "item", "changed": true, "comment": 
null, "exclusive": false, "follow": false, "item": {"dest": "node1"}, "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC0ychLmzl6PJ98tp3TAN0Wcag7ykgQM14xAXwiJrkdytYkISQuq3eD1d61LoJGamMcTSu9jsuqdKaeYtQLDQLVZZ/yae8g/WoVFod1R5dnSVOyEvZtzXGgDamdkW5CXnf37zHmoUuue98G3U/ndJBbCToORLIcDIZdgtADJpl8XbFUAGprIH9XOKpAdfhvOn4iPx4K1jI3Q7tNFAWjyhQNIoo7iErObOhOP3DkLF8480Q3dEj8JyWt7mKCwRlTWnc4lF87YqCK4kLRIgcSaQNdAmwgBTvgHvZwyYKcSTGmF1RomNLTc6tBmEfxJnU8I6bvacqLE74qqQcs/Jp+BPlj creating SSH", "key_options": null, "keyfile": "/home/pbsadmin/.ssh/authorized_keys", "manage_dir": true, "path": null, "state": "present", "user": "pbsadmin", "validate_certs": true}
skipping: [node2] => (item={'dest': 'node2'})  => {"ansible_loop_var": "item", "changed": false, "item": 
{"dest": "node2"}, "skip_reason": "Conditional result was False"}

PLAY RECAP *********************************************************************
master                     : ok=11   changed=9    unreachable=0    failed=0    skipped=0    rescued=0    
ignored=0
node1                      : ok=11   changed=9    unreachable=0    failed=0    skipped=0    rescued=0    
ignored=0
node2                      : ok=11   changed=9    unreachable=0    failed=0    skipped=0    rescued=0    
ignored=0
```
- to destory the cluster
```bash
>vagrant destroy
    master: Are you sure you want to destroy the 'master' VM? [y/N] y
==> master: Forcing shutdown of VM...
==> master: Destroying VM and associated drives...
    node2: Are you sure you want to destroy the 'node2' VM? [y/N] y
==> node2: Forcing shutdown of VM...
==> node2: Destroying VM and associated drives...
    node1: Are you sure you want to destroy the 'node1' VM? [y/N] y
==> node1: Forcing shutdown of VM...
==> node1: Destroying VM and associated drives...
```
